[gd_scene load_steps=17 format=3 uid="uid://c0o15m0gcrvwr"]

[ext_resource type="PackedScene" uid="uid://dh7wnq0py58i0" path="res://scenes/utils/input_handler.tscn" id="1_72ix8"]
[ext_resource type="Texture2D" uid="uid://iq7p32wywouq" path="res://sprites/MonoCinza.png" id="1_ubwgw"]
[ext_resource type="Texture2D" uid="uid://cndv05rcw2nvg" path="res://sprites/main/background.png" id="1_y56qp"]
[ext_resource type="PackedScene" uid="uid://difxhgx5j86wm" path="res://scenes/enemy_spawner_basic.tscn" id="2_2vj2h"]
[ext_resource type="Texture2D" uid="uid://chfopsbbcnoop" path="res://sprites/main/base hud.png" id="2_sv52t"]
[ext_resource type="PackedScene" uid="uid://bvcx5saan0jut" path="res://scenes/keyboard.tscn" id="2_y0acb"]
[ext_resource type="Texture2D" uid="uid://dl4ny1scxunef" path="res://sprites/main/keyboard_shadow.png" id="3_7exfm"]
[ext_resource type="PackedScene" uid="uid://b8df74ncyro81" path="res://scenes/command_line.tscn" id="3_j4d2a"]
[ext_resource type="Script" uid="uid://cooprrrg3fon0" path="res://scripts/game_manager.gd" id="3_y0acb"]
[ext_resource type="PackedScene" uid="uid://b0h857r3xqchk" path="res://moulinette.tscn" id="4_hwp66"]
[ext_resource type="PackedScene" uid="uid://fe2x7nv7v5tp" path="res://scenes/combat_area.tscn" id="4_j4d2a"]
[ext_resource type="Texture2D" uid="uid://bdgih8a5fc5ew" path="res://sprites/main/life base hud.png" id="4_qgoyv"]
[ext_resource type="FontFile" uid="uid://cnik0owupacgs" path="res://text/monogram.ttf" id="6_sv52t"]
[ext_resource type="PackedScene" uid="uid://ba55ds5r1wrvd" path="res://player.tscn" id="10_hwp66"]
[ext_resource type="PackedScene" uid="uid://t3xu037ejxsq" path="res://scenes/powers/life.tscn" id="10_rssyh"]
[ext_resource type="AudioStream" uid="uid://b6haxgw50wve6" path="res://sprites/ogg_audios/ogg/sound_fase.ogg" id="12_2xkjh"]

[node name="Main" type="Node2D"]

[node name="Background2" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(956.31, 551.5)
scale = Vector2(1.21816, 1.34552)
texture = ExtResource("1_y56qp")

[node name="BaseHud" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(960.5, 539)
scale = Vector2(1.20338, 1.27123)
texture = ExtResource("2_sv52t")

[node name="Shadow" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(891, 635)
scale = Vector2(1.08198, 1)
texture = ExtResource("3_7exfm")

[node name="Shadow2" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(1805.25, 638)
scale = Vector2(1.42647, 1)
texture = ExtResource("3_7exfm")

[node name="BaseLife" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(997, 766)
scale = Vector2(1.17647, 0.360849)
texture = ExtResource("4_qgoyv")

[node name="Background" type="TextureRect" parent="."]
visible = false
texture_filter = 1
offset_right = 1917.0
offset_bottom = 1024.0
texture = ExtResource("1_ubwgw")

[node name="ScoreLabel" type="CanvasLayer" parent="."]

[node name="Score" type="Label" parent="ScoreLabel"]
offset_left = 64.0
offset_top = 32.0
offset_right = 196.0
offset_bottom = 122.0
scale = Vector2(3, 3)
theme_override_colors/font_color = Color(0.945098, 1, 0, 1)
theme_override_fonts/font = ExtResource("6_sv52t")
theme_override_font_sizes/font_size = 32
text = "Score: 0
"
metadata/_edit_use_anchors_ = true

[node name="InputHandler" parent="." instance=ExtResource("1_72ix8")]

[node name="Molde" type="Node2D" parent="."]

[node name="Background" type="ColorRect" parent="Molde"]
visible = false
offset_left = 11.0
offset_top = 11.0
offset_right = 1903.0
offset_bottom = 1001.0
color = Color(0, 0, 0, 1)

[node name="EnemySpawnArea" type="ColorRect" parent="Molde"]
visible = false
offset_left = 1936.0
offset_top = 180.0
offset_right = 2376.0
offset_bottom = 538.0
color = Color(0.341783, 0.2346, 0.0553825, 1)

[node name="Command_Line" type="ColorRect" parent="Molde"]
visible = false
offset_left = 8.0
offset_top = 569.0
offset_right = 1896.0
offset_bottom = 701.0
color = Color(0, 0.776471, 0, 0.164706)

[node name="Command_fill" type="ColorRect" parent="Molde"]
visible = false
offset_left = 624.0
offset_top = 595.0
offset_right = 1290.0
offset_bottom = 675.0
color = Color(0.729412, 0.0117647, 0, 0.878431)

[node name="Combat_Area" type="ColorRect" parent="Molde"]
visible = false
offset_left = 542.0
offset_top = 163.0
offset_right = 1869.0
offset_bottom = 545.0
color = Color(1, 1, 0.0117647, 0.552941)

[node name="EnemyDialogue" type="ColorRect" parent="Molde"]
visible = false
offset_left = 648.0
offset_top = 33.0
offset_right = 1865.0
offset_bottom = 137.0
color = Color(0, 0.566069, 0.566328, 1)

[node name="Astronaut" type="ColorRect" parent="Molde"]
visible = false
offset_left = 165.0
offset_top = 271.0
offset_right = 410.0
offset_bottom = 516.0
color = Color(0.976471, 0.521569, 0.65098, 0.584314)

[node name="Hearts" type="ColorRect" parent="Molde"]
visible = false
offset_left = 167.0
offset_top = 156.0
offset_right = 403.0
offset_bottom = 248.0
color = Color(0.45405, 0.741868, 0.460179, 1)

[node name="Keyboard" type="ColorRect" parent="Molde"]
visible = false
offset_left = 559.0
offset_top = 738.0
offset_right = 1326.0
offset_bottom = 972.0
color = Color(0.463322, 0.751076, 0.727841, 1)

[node name="PowerUP_Area" type="ColorRect" parent="Molde"]
visible = false
offset_left = 1580.0
offset_top = 764.0
offset_right = 1840.0
offset_bottom = 946.0

[node name="ColorRect" type="ColorRect" parent="Molde/PowerUP_Area"]
visible = false
layout_mode = 0
offset_left = 1743.0
offset_top = 736.0
offset_right = 1835.0
offset_bottom = 826.0

[node name="EnemySpawnerBasic" parent="." instance=ExtResource("2_2vj2h")]

[node name="GameManager" type="Node2D" parent="." node_paths=PackedStringArray("score_label")]
script = ExtResource("3_y0acb")
score_label = NodePath("../ScoreLabel/Score")

[node name="CombatArea" parent="." instance=ExtResource("4_j4d2a")]
visible = false

[node name="Keyboard" parent="." instance=ExtResource("2_y0acb")]
position = Vector2(121, 843)
scale = Vector2(3, 3)

[node name="CommandLine" parent="." instance=ExtResource("3_j4d2a")]
position = Vector2(729, 772)
scale = Vector2(2, 2)

[node name="Life" parent="." instance=ExtResource("10_rssyh")]
position = Vector2(1588, 812)
scale = Vector2(2, 2)

[node name="Player" parent="." instance=ExtResource("10_hwp66")]
position = Vector2(253, 583)
scale = Vector2(5, 5)

[node name="sfx_main" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("12_2xkjh")
volume_db = 10.0
autoplay = true

[node name="Moulinette" parent="." instance=ExtResource("4_hwp66")]
visible = false
position = Vector2(1624, 414)

[connection signal="buffer_changed" from="InputHandler" to="GameManager" method="_on_input_handler_buffer_changed"]
[connection signal="buffer_changed" from="InputHandler" to="CommandLine" method="_on_input_handler_buffer_changed"]
[connection signal="command_sent" from="InputHandler" to="GameManager" method="_on_input_handler_command_sent"]
[connection signal="body_entered" from="Player" to="GameManager" method="_on_player_body_entered"]
[connection signal="defeated" from="Moulinette" to="GameManager" method="_on_moulinette_defeated"]
